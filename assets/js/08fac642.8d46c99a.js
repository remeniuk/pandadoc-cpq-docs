"use strict";(self.webpackChunkpandadoc_cpq_docs=self.webpackChunkpandadoc_cpq_docs||[]).push([[721],{8308:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"how-to-guides/quote-rules-formulas/use-quote-rules-formulas","title":"Using Rules and Formulas in Quotes","description":"PandaDoc CPQ allows you to automate pricing, discounting, and product selection in quotes using rules and formulas. This guide covers:","source":"@site/docs/how-to-guides/03-quote-rules-formulas/01-use-quote-rules-formulas.md","sourceDirName":"how-to-guides/03-quote-rules-formulas","slug":"/how-to-guides/quote-rules-formulas/use-quote-rules-formulas","permalink":"/pandadoc-cpq-docs/how-to-guides/quote-rules-formulas/use-quote-rules-formulas","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Using Rules and Formulas in Quotes"},"sidebar":"docsSidebar","previous":{"title":"Using Conditional Approvals","permalink":"/pandadoc-cpq-docs/how-to-guides/approvals/setup-approval-rules"},"next":{"title":"Using Conditional Logic in Forms","permalink":"/pandadoc-cpq-docs/how-to-guides/conditional-forms/conditional-forms"}}');var i=s(4848),o=s(8453);const r={title:"Using Rules and Formulas in Quotes"},l="Using Rules and Formulas in Quotes",d={},a=[{value:"Watch the Video Tutorial",id:"watch-the-video-tutorial",level:2},{value:"Understanding Quote Data Fields",id:"understanding-quote-data-fields",level:2},{value:"Step 1: Adding a Product by SKU",id:"step-1-adding-a-product-by-sku",level:2},{value:"Step 2: Setting Contract Term from a Data Field",id:"step-2-setting-contract-term-from-a-data-field",level:2},{value:"Step 3: Applying Discounts Based on Contract Term",id:"step-3-applying-discounts-based-on-contract-term",level:2},{value:"Step 4: Updating Custom Fields in the Quote Total Section",id:"step-4-updating-custom-fields-in-the-quote-total-section",level:2},{value:"Step 5: Extracting Data for Workflow Automation",id:"step-5-extracting-data-for-workflow-automation",level:2},{value:"Key Takeaways",id:"key-takeaways",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"using-rules-and-formulas-in-quotes",children:"Using Rules and Formulas in Quotes"})}),"\n",(0,i.jsxs)(n.p,{children:["PandaDoc CPQ allows you to ",(0,i.jsx)(n.strong,{children:"automate pricing, discounting, and product selection"})," in quotes using ",(0,i.jsx)(n.strong,{children:"rules and formulas"}),". This guide covers:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["How to ",(0,i.jsx)(n.strong,{children:"add products dynamically"})," based on SKUs"]}),"\n",(0,i.jsxs)(n.li,{children:["How to ",(0,i.jsx)(n.strong,{children:"set contract terms automatically"})]}),"\n",(0,i.jsxs)(n.li,{children:["How to ",(0,i.jsx)(n.strong,{children:"apply discounts using formulas"})]}),"\n",(0,i.jsxs)(n.li,{children:["How to ",(0,i.jsx)(n.strong,{children:"update custom fields in quotes"})]}),"\n",(0,i.jsxs)(n.li,{children:["How to ",(0,i.jsx)(n.strong,{children:"extract data fields for workflow automation"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"watch-the-video-tutorial",children:"Watch the Video Tutorial"}),"\n",(0,i.jsx)("div",{style:{position:"relative",width:"100%",paddingBottom:"56.25%"},children:(0,i.jsx)("iframe",{src:"https://www.youtube.com/embed/mw1Vp2Yymsc?si=jMWQ6_-RLepv4vJA",title:"YouTube video player",frameborder:"0",allowfullscreen:!0,style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}})}),"\n",(0,i.jsx)(n.h2,{id:"understanding-quote-data-fields",children:"Understanding Quote Data Fields"}),"\n",(0,i.jsxs)(n.p,{children:["Quote ",(0,i.jsx)(n.strong,{children:"data fields"})," allow you to store values for ",(0,i.jsx)(n.strong,{children:"product selection, contract terms, discounts, and more"}),". These fields are used in rules to dynamically adjust quotes."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example Data Fields:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Product SKU"}),": Stores the product identifier"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Contract Duration"}),": Defines the length of the contract in months/years"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Discount"}),": Stores the applicable discount percentage"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"step-1-adding-a-product-by-sku",children:"Step 1: Adding a Product by SKU"}),"\n",(0,i.jsxs)(n.p,{children:["To ",(0,i.jsx)(n.strong,{children:"dynamically add a product"})," to the quote:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Navigate to ",(0,i.jsx)(n.strong,{children:"Rules"})," and click ",(0,i.jsx)(n.strong,{children:"+ Add Rule"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Select ",(0,i.jsx)(n.strong,{children:'"Add to Section" \u2192 "Existing Product by SKU"'}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Use a ",(0,i.jsx)(n.strong,{children:"data field reference"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"[Product]"})," (where ",(0,i.jsx)(n.strong,{children:"Product"})," contains the SKU)."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Ensure duplicates are not created"})," unless necessary."]}),"\n",(0,i.jsx)(n.li,{children:"Save and test the rule."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This rule ensures that the selected product ",(0,i.jsx)(n.strong,{children:"automatically appears"})," in the quote based on the SKU."]}),"\n",(0,i.jsx)(n.h2,{id:"step-2-setting-contract-term-from-a-data-field",children:"Step 2: Setting Contract Term from a Data Field"}),"\n",(0,i.jsxs)(n.p,{children:["To ",(0,i.jsx)(n.strong,{children:"automate contract duration"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Create a ",(0,i.jsx)(n.strong,{children:"data field"})," called ",(0,i.jsx)(n.code,{children:"Contract Duration"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Write a rule:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Select ",(0,i.jsx)(n.strong,{children:'"Update Line Items"'}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Apply to ",(0,i.jsx)(n.strong,{children:"all line items"})," (",(0,i.jsx)(n.code,{children:"Line Items contain elements with Name is not empty"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.code,{children:"Contract Term"})," to ",(0,i.jsx)(n.code,{children:"[Contract Duration]"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Now, whenever a ",(0,i.jsx)(n.strong,{children:"contract duration"})," is set in a form or integration, it automatically updates the quote."]}),"\n",(0,i.jsx)(n.h2,{id:"step-3-applying-discounts-based-on-contract-term",children:"Step 3: Applying Discounts Based on Contract Term"}),"\n",(0,i.jsxs)(n.p,{children:["To apply a ",(0,i.jsx)(n.strong,{children:"discount using formulas"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Create a ",(0,i.jsx)(n.strong,{children:"discount data field"})," (",(0,i.jsx)(n.code,{children:"Discount"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["Write a rule using an ",(0,i.jsx)(n.strong,{children:"IF formula"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"IF(CurrentItem.ContractTerm >= 3, [Discount], 0)\n"})}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Save and activate the rule."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This ensures ",(0,i.jsx)(n.strong,{children:"longer contracts receive discounts"})," while shorter ones do not."]}),"\n",(0,i.jsx)(n.h2,{id:"step-4-updating-custom-fields-in-the-quote-total-section",children:"Step 4: Updating Custom Fields in the Quote Total Section"}),"\n",(0,i.jsxs)(n.p,{children:["To ",(0,i.jsx)(n.strong,{children:"display custom totals"}),", create a custom field:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Go to ",(0,i.jsx)(n.strong,{children:"Grand Total"})," and add a new field (",(0,i.jsx)(n.code,{children:"Product Price Before Discount"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["Write a ",(0,i.jsx)(n.strong,{children:"SUM formula"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"SUM(LineItems.AllElements.Price)\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Apply ",(0,i.jsx)(n.strong,{children:"text formatting"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'TEXT(SUM(LineItems.AllElements.Price), "$#,##0.00")\n'})}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Save and test."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This rule ",(0,i.jsx)(n.strong,{children:"calculates the total price before discounts"})," and formats it correctly."]}),"\n",(0,i.jsx)(n.h2,{id:"step-5-extracting-data-for-workflow-automation",children:"Step 5: Extracting Data for Workflow Automation"}),"\n",(0,i.jsxs)(n.p,{children:["To ",(0,i.jsx)(n.strong,{children:"send selected product names into workflows"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Create a ",(0,i.jsx)(n.strong,{children:"data field"})," (",(0,i.jsx)(n.code,{children:"Selected Products"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["Write a rule using ",(0,i.jsx)(n.strong,{children:"TEXTJOIN"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'TEXTJOIN(", ", TRUE, LineItems.AllElements.Name)\n'})}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Save and test."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This ensures selected product names ",(0,i.jsx)(n.strong,{children:"flow into subsequent workflow steps"}),", such as ",(0,i.jsx)(n.strong,{children:"document generation and approvals"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Rules automate product selection, pricing, and discounts."})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Formulas enable dynamic calculations using IF, SUM, and TEXT functions."})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Custom fields allow additional calculations in quotes."})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Extracting data fields enables seamless workflow automation."})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["By using ",(0,i.jsx)(n.strong,{children:"rules and formulas"}),", you can streamline quoting and ensure ",(0,i.jsx)(n.strong,{children:"accurate, automated pricing"})," in PandaDoc CPQ."]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var t=s(6540);const i={},o=t.createContext(i);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);