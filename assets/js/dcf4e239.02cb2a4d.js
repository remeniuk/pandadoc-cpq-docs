"use strict";(self.webpackChunkpandadoc_cpq_docs=self.webpackChunkpandadoc_cpq_docs||[]).push([[7363],{3339:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>r,default:()=>u,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"reference/quote-rules-formulas/rules_in_quotes_guide","title":"How Rules are Connected to the Quote and How to Build a Rule","description":"In this guide, we will explore how rules interact with the Quote structure, and provide instructions on how to start building your rules.","source":"@site/docs/reference/quote-rules-formulas/01-rules_in_quotes_guide.md","sourceDirName":"reference/quote-rules-formulas","slug":"/reference/quote-rules-formulas/rules_in_quotes_guide","permalink":"/pandadoc-cpq-docs/reference/quote-rules-formulas/rules_in_quotes_guide","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Types of Rules in Forms","permalink":"/pandadoc-cpq-docs/reference/form-conditional-logic/types-of-rules-in-forms"},"next":{"title":"Possible actions in THEN clause","permalink":"/pandadoc-cpq-docs/reference/quote-rules-formulas/possible_actions_in_THEN_clause"}}');var i=n(4848),o=n(8453);const l={},r="How Rules are Connected to the Quote and How to Build a Rule",a={},c=[{value:"Overview of the Quote",id:"overview-of-the-quote",level:2},{value:"Sections in the Quote",id:"sections-in-the-quote",level:2},{value:"Example Sections",id:"example-sections",level:3},{value:"Rules Structure",id:"rules-structure",level:2},{value:"WHEN Clause",id:"when-clause",level:3},{value:"THEN Clause",id:"then-clause",level:3},{value:"How to Start Building a Rule",id:"how-to-start-building-a-rule",level:2},{value:"Step 1: Define the WHEN Condition",id:"step-1-define-the-when-condition",level:3},{value:"Step 2: Define the THEN Action",id:"step-2-define-the-then-action",level:3},{value:"Example Rule:",id:"example-rule",level:3},{value:"Example Walkthrough",id:"example-walkthrough",level:2},{value:"Testing the Rule",id:"testing-the-rule",level:3},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const t={h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"how-rules-are-connected-to-the-quote-and-how-to-build-a-rule",children:"How Rules are Connected to the Quote and How to Build a Rule"})}),"\n",(0,i.jsx)(t.p,{children:"In this guide, we will explore how rules interact with the Quote structure, and provide instructions on how to start building your rules."}),"\n",(0,i.jsx)(t.h2,{id:"overview-of-the-quote",children:"Overview of the Quote"}),"\n",(0,i.jsx)(t.p,{children:"The quote consists of multiple sections that hold various line items, totals, and other data. Here\u2019s an outline of what a quote contains:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Sections"}),": Each section represents a distinct part of the quote, such as products, add-ons, and fees.\n",(0,i.jsx)(t.img,{alt:"sections_in_quote.png",src:n(1327).A+"",width:"2270",height:"923"})]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Columns"}),": Each section contains a set of columns (e.g., price, quantity, discount, etc.) and has its own set of totals.\n",(0,i.jsx)(t.img,{alt:"quote_section_columns.png",src:n(1624).A+"",width:"2270",height:"923"})]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Grand Total or Quote total"}),": This is the total of all sections combined, which may include calculated values such as total price, subtotal, total discounts, etc.\n",(0,i.jsx)(t.img,{alt:"grand_total_or_quote_total.png",src:n(415).A+"",width:"2270",height:"923"})]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Data Fields or Quote variables"}),": These are fields that allow you to pass data between steps in a workflow or temporarily store values for calculations.\n",(0,i.jsx)(t.img,{alt:"quote_data_fields.png",src:n(5461).A+"",width:"2271",height:"933"})]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"sections-in-the-quote",children:"Sections in the Quote"}),"\n",(0,i.jsx)(t.p,{children:"Each section in the quote has:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Name"}),": Name is a section identifier"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Columns"}),": Specific attributes related to the quote item (e.g., price, quantity, etc.)."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Line items"})," Each section contains a set of products from your catalog or newly created products"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Footers/Section Totals"}),": These are totals specific to the section and can either be default or custom.\n",(0,i.jsx)(t.img,{alt:"section_details.png",src:n(9610).A+"",width:"1416",height:"657"})]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"example-sections",children:"Example Sections"}),"\n",(0,i.jsx)(t.p,{children:"For example, we may have the following sections:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Products Section"}),": Includes columns like price, quantity, discount, total."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Add-ons Section"}),": Contains columns like price, quantity, and custom columns."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Fee Section"}),": Contains specific fees, taxes, or additional charges."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"You can also create custom fields to add to these sections."}),"\n",(0,i.jsx)(t.h2,{id:"rules-structure",children:"Rules Structure"}),"\n",(0,i.jsx)(t.h3,{id:"when-clause",children:"WHEN Clause"}),"\n",(0,i.jsxs)(t.p,{children:["In the ",(0,i.jsx)(t.strong,{children:"WHEN"})," part of the rule, we filter data based on certain conditions. You can filter by:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:'Sections (e.g., filtering sections like "products").'}),"\n",(0,i.jsx)(t.li,{children:"Line items within a section (e.g., filtering based on quantity, price, etc.)."}),"\n",(0,i.jsxs)(t.li,{children:["Data fields (e.g., filtering based on custom fields you defined).\n",(0,i.jsx)(t.img,{alt:"WHEN_clause_filter_by.png",src:n(1198).A+"",width:"1415",height:"458"})]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"then-clause",children:"THEN Clause"}),"\n",(0,i.jsxs)(t.p,{children:["In the ",(0,i.jsx)(t.strong,{children:"THEN"})," part of the rule, actions are performed on the filtered data. For example:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"You can update the section totals or line items that meet the filtering criteria."}),"\n",(0,i.jsxs)(t.li,{children:["You can modify values, such as setting the price to 100 or updating the quantity for certain line items.\n",(0,i.jsx)(t.img,{alt:"THEN_clause_actions.png",src:n(4858).A+"",width:"1413",height:"496"})]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Please remember that you can perform actions on the items that meet the filters specified\nin the WHEN clause\u2014in other words, on the aliases created in the WHEN clause."}),"\n",(0,i.jsx)(t.img,{alt:"aliases_in_rules.png",src:n(8991).A+"",width:"1410",height:"664"})]}),"\n",(0,i.jsxs)(t.p,{children:["However, you can also perform actions on objects that do not require a filter.\n",(0,i.jsx)(t.img,{alt:"aliases_not_needed.png",src:n(8935).A+"",width:"1410",height:"664"})]}),"\n",(0,i.jsx)(t.h2,{id:"how-to-start-building-a-rule",children:"How to Start Building a Rule"}),"\n",(0,i.jsx)(t.h3,{id:"step-1-define-the-when-condition",children:"Step 1: Define the WHEN Condition"}),"\n",(0,i.jsxs)(t.p,{children:["Start by defining your ",(0,i.jsx)(t.strong,{children:"WHEN"}),' condition. For instance, if you want to filter sections that contain the name "Products," you would set up the filter to match sections with this name.']}),"\n",(0,i.jsxs)(t.p,{children:['You can also filter line items within the "Products" section based on conditions such as quantity greater than 1.\n',(0,i.jsx)(t.img,{alt:"update_line_items_whre_qty_gt_zero.png",src:n(9829).A+"",width:"1195",height:"630"})]}),"\n",(0,i.jsx)(t.h3,{id:"step-2-define-the-then-action",children:"Step 2: Define the THEN Action"}),"\n",(0,i.jsxs)(t.p,{children:["Once you have filtered the appropriate data, define the actions in the ",(0,i.jsx)(t.strong,{children:"THEN"})," part of the rule. For example:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"If a line item\u2019s quantity is greater than 1, update the price to 100."}),"\n",(0,i.jsx)(t.li,{children:"If a section has a custom total, set it accordingly."}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"example-rule",children:"Example Rule:"}),"\n",(0,i.jsx)(t.p,{children:"In this example, a rule could be set up to:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:'Filter the "Products" section.'}),"\n",(0,i.jsx)(t.li,{children:"Filter line items where the quantity is greater than 1."}),"\n",(0,i.jsx)(t.li,{children:"Update the price to 100 for those line items."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"example-walkthrough",children:"Example Walkthrough"}),"\n",(0,i.jsx)(t.p,{children:"Here\u2019s how you might build a rule step-by-step:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Filter Section"}),': Select the "Products" section.']}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Filter Line Items"}),": Choose to filter line items where the quantity is greater than 1."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Define Action"}),": Set the price to 100 for the filtered line items."]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"testing-the-rule",children:"Testing the Rule"}),"\n",(0,i.jsx)(t.p,{children:"Let\u2019s say you add products with varying quantities:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Product 1: Quantity 1 (unchanged)."}),"\n",(0,i.jsx)(t.li,{children:"Product 2: Quantity 2 (updated to price 100)."}),"\n",(0,i.jsx)(t.li,{children:"Product 3: Quantity 2 (updated to price 100)."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"In this case, only Product 2 and Product 3 will have their price updated, since their quantity is greater than 1."}),"\n",(0,i.jsx)(t.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,i.jsx)(t.p,{children:"This document provides a high-level overview of how to use rules within the quote structure. By filtering and performing actions on sections, line items, and data fields, you can automate and customize your quotes as needed."})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},415:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/grand_total_or_quote_total-b62281635273d667b58ee304b5f36a6d.png"},5461:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/quote_data_fields-a28ab3c7c0c9d9145b741cfedd2f5c5c.png"},1624:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/quote_section_columns-54023ed9abd82a79346f5990a4ca039b.png"},9610:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/section_details-894f14843c102346158ef04ac3af243d.png"},1327:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/sections_in_quote-00711144ddce52484e95e545bfc05f30.png"},4858:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/THEN_clause_actions-5f2b84884bfffcc7ccaf816af39e5fd4.png"},1198:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/WHEN_clause_filter_by-2034bc1a8168ff261a2e34da4eacd5a9.png"},8991:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/aliases_in_rules-631a9407a25fa9e770c7155da62dcf4f.png"},8935:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/aliases_not_needed-0e6da21176e58145d795ccf4a5d74416.png"},9829:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/update_line_items_whre_qty_gt_zero-a249111ef145bc242e074f92d14e1f36.png"},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>r});var s=n(6540);const i={},o=s.createContext(i);function l(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);